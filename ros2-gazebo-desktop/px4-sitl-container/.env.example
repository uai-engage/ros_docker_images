# PX4 SITL Container Configuration
# =================================
# Copy this to .env and customize

# Dockerfile Selection
# ====================
# Dockerfile.light : No Gazebo (connects to Gazebo in ROS2 container) - RECOMMENDED
# Dockerfile       : Full Gazebo Harmonic (embedded, headless)
DOCKERFILE=Dockerfile.light

# User Configuration
# ==================
USERNAME=px4user
USER_UID=1000
USER_GID=1000

# PX4 Version
# ===========
# Options: main, v1.16.0, v1.14.3, etc.
PX4_VERSION=v1.16.0

# Container Name
# ==============
CONTAINER_NAME=px4_sitl

# PX4 Source Path
# ===============
# Path to your local PX4-Autopilot source
# Leave as default to use ./PX4-Autopilot in this directory
# Or set absolute path: /home/user/repos/PX4-Autopilot
PX4_SOURCE_PATH=./PX4-Autopilot

# Vehicle Configuration
# =====================
# Model: x500, x500_depth, rc_cessna, standard_vtol
PX4_GZ_MODEL=x500

# World: default, baylands, etc.
PX4_GZ_WORLD=default

# Airframe ID (see PX4 airframe reference)
# 4001 = x500 quadcopter
# 4011 = DJI F450
# 2106 = Cessna
PX4_SYS_AUTOSTART=4001

# Instance number (for multi-vehicle simulation)
# Affects port numbers: 14550+instance, 14540+instance, 8888+instance
PX4_SIM_INSTANCE=0

# Gazebo Mode
# ===========
# EXTERNAL_GAZEBO=0 : Run Gazebo inside this container (embedded, headless)
# EXTERNAL_GAZEBO=1 : Connect to Gazebo in ROS2 container (recommended)
EXTERNAL_GAZEBO=1

# Headless Mode (only used when EXTERNAL_GAZEBO=0)
# =============
# 1 = No GUI (uses virtual framebuffer) - for servers
# 0 = Show Gazebo GUI (requires X11/display)
HEADLESS=1

# Wait for external Gazebo before starting PX4
WAIT_FOR_GAZEBO=0

# Network Configuration
# =====================
# MAVLink broadcast address (0.0.0.0 = all interfaces)
PX4_SIM_HOST_ADDR=0.0.0.0

# MAVLink Ports
# =============
# UDP ports for MAVLink communication
MAVLINK_UDP_PORT_GCS=14550       # QGroundControl (UDP broadcast)
MAVLINK_UDP_PORT_OFFBOARD=14540  # MAVROS/Offboard control
MAVLINK_TCP_PORT=5760            # QGroundControl (TCP connection)

# Gazebo Transport (for external Gazebo connection)
# ==================================================
GZ_PARTITION=gazebo
GZ_IP=127.0.0.1
GZ_TRANSPORT_PORT=11345          # Gazebo Transport discovery port

# uXRCE-DDS Configuration (for ROS 2)
# ===================================
# IP of micro-ROS agent (usually localhost with host network)
UXRCE_DDS_AG_IP=127.0.0.1

# Port for uXRCE-DDS communication
UXRCE_DDS_PRT=8888

# Resource Limits
# ===============
MEMORY_LIMIT=8G
MEMORY_RESERVATION=4G

# =================================
# Port Reference (with host network)
# =================================
# These ports are used on the host:
#
# MAVLink:
#   UDP 14550 - QGroundControl (UDP broadcast)
#   UDP 14540 - MAVROS / Offboard API
#   TCP 5760  - QGroundControl (TCP direct connection - for remote/tunneling)
#
# uXRCE-DDS (ROS 2):
#   UDP 8888  - micro-ROS agent connection
#
# Gazebo Transport:
#   TCP 11345 - Gazebo Transport discovery service (default)
#
# For multiple instances, add instance number to UDP ports:
#   Instance 0: 14550, 14540, 8888
#   Instance 1: 14551, 14541, 8889
#   Instance 2: 14552, 14542, 8890
